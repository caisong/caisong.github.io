<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Vim on Caisong's Blog</title><link>https://caisong.github.io/tags/vim/</link><description>Recent content in Vim on Caisong's Blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 21 Dec 2018 21:31:48 +0000</lastBuildDate><atom:link href="https://caisong.github.io/tags/vim/index.xml" rel="self" type="application/rss+xml"/><item><title>自定义语言IDE构建</title><link>https://caisong.github.io/posts/vim-ide/</link><pubDate>Fri, 21 Dec 2018 21:31:48 +0000</pubDate><guid>https://caisong.github.io/posts/vim-ide/</guid><description>&lt;p>工作需要，使用自定义的开发语言, Linux环境。&lt;/p>
&lt;ul>
&lt;li>notepad++ vs vim
&lt;ul>
&lt;li>vim自带，缺少语法高亮、自动补全。&lt;/li>
&lt;li>notepad++方便，适合vim不熟悉的人，但上传到linux可能存在编码问题&lt;br>
其实只要设置好，都可以，哪款编辑器方便就行。
以下内容只涉及&lt;strong>语法高亮&lt;/strong>和&lt;strong>自动补全&lt;/strong>,&lt;strong>snippets&lt;/strong>后期补上&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="语法高亮">语法高亮&lt;/h2>
&lt;h3 id="notepad">notepad++&lt;/h3>
&lt;p>&lt;img src="https://caisong.github.io/images/notepad_highlight.png" alt="notepad_highlight.png" title="语法高亮">&lt;/p>
&lt;h3 id="vim">vim&lt;/h3>
&lt;p>如果自定义语言完全不同于现有任何格式（如xml json yaml ini等），那比较麻烦，可能需要自己写。我们讨论格式类似的情况：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>语法文件&lt;br>
&lt;code>/usr/share/vim/{vim版本}/syntax&lt;/code>目录下存在以支持的语法文件，如果你所使用的文件格式与其中某种雷同的话，可以复制一份，自己添加你的关键词。
如 &lt;code> cat /usr/share/vim/vim80/syntax/conf.vim&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>&amp;#34; Vim syntax file
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Language: generic configure file
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Maintainer: Bram Moolenaar &amp;lt;Bram@vim.org&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Last Change: 2005 Jun 20
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Quit when a (custom) syntax file was already loaded
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>if exists(&amp;#34;b:current_syntax&amp;#34;)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>finish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>endif
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>syn keyword confTodo contained TODO FIXME XXX
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Avoid matching &amp;#34;text#text&amp;#34;, used in /etc/disktab and /etc/gettytab
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>syn match confComment &amp;#34;^#.*&amp;#34; contains=confTodo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>syn match confComment &amp;#34;\s#.*&amp;#34;ms=s+1 contains=confTodo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>syn region confString start=+&amp;#34;+ skip=+\\\\\|\\&amp;#34;+ end=+&amp;#34;+ oneline
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>syn region confString start=+&amp;#39;+ skip=+\\\\\|\\&amp;#39;+ end=+&amp;#39;+ oneline
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Define the default highlighting.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Only used when an item doesn&amp;#39;t have highlighting yet
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hi def link confComment Comment
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hi def link confTodo Todo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hi def link confString String
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>let b:current_syntax = &amp;#34;conf&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; vim: ts=8 sw=2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>&lt;code>syn match&lt;/code> 匹配关键词&lt;/li>
&lt;li>&lt;code>hi def link&lt;/code> 高亮&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>高亮设置&lt;br>
用户&lt;code>vimrc&lt;/code>文件中添加如下设置
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plain" data-lang="plain">&lt;span style="display:flex;">&lt;span>&amp;#34;开启语法高亮
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>syntax on 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; Your Languare
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; file_ext 替换为你的文件后缀
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34; file_type 替换为你刚设置的语法类型
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>au BufNewFile,BufRead *.{file_ext} setf {filetype}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="自动补全">自动补全&lt;/h2>
&lt;h3 id="notepad-1">notepad++&lt;/h3>
&lt;p>该&lt;code>{notepad++安装目录}\plugins\APIs&lt;/code>目录下保存的自动补全的关键字，使用&lt;code>xml&lt;/code>格式。&lt;/p></description></item></channel></rss>